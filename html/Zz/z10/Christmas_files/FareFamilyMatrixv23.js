var ofs=[];pfs=[];of=new optionFare("0",pfs);ofs[0]=of;of=new optionFare("1",pfs);ofs[1]=of;function optionFare(sliceID,paxFares){this.SliceID=sliceID;this.PaxFares=paxFares}function paxFare(type,fare,taxes){this.Type=type;this.Fare=fare;this.Taxes=taxes}function createCookie(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3);var expires="; expires="+date.toGMTString()}else var expires="";document.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null}function eraseCookie(name){createCookie(name,"",-1)}function ToggleFareBoxTrackingState(){var fbTrackingField=document.getElementById("FormUserControl_avl_fareBoxTrackingState");if(fbTrackingField.value=="False")fbTrackingField.value="True";else fbTrackingField.value="False"}function UpdateFareBoxButton(isTrackingOn){var but=document.getElementById("fareBoxControlButton");if(but!=null)if(isTrackingOn){but.src="/images/tack_out.gif";but.title="Pin the Fares Selected box in place to stop scroll"}else{var fb=document.getElementById("FormUserControl_avl_farebox");but.src="/images/tack_in.gif";but.title="Unpin the Fares Selected box to allow scroll"}}function InitializeFareBox(){var nn=navigator.appName.indexOf("Netscape")!=-1,fbTrackingField=document.getElementById("FormUserControl_avl_fareBoxTrackingState"),scrollCookieVal=readCookie("asMatrixFareBoxScroll");if(scrollCookieVal!=null)fmOn=scrollCookieVal;else fmOn="True";fbTrackingField.value=fmOn;UpdateFareBoxButton(fmOn=="True");var dD=document,dH=dD.html,dB=dD.documentElement,px=dD.layers?"":"px";function floatFarebox(iX,iY,id){var L=dD.getElementById?dD.getElementById(id):dD.all?dD.all[id]:dD.layers[id];this[id+"O"]=L;if(dD.layers)L.style=L;L.nX=L.iX=iX;L.nY=L.iY=iY;L.P=function(x,y){this.style.left=x+px;this.style.top=y+px};L.Fm=function(){var pX,pY;if(fbTrackingField!=null&&fbTrackingField.value!=null&&fbTrackingField.value=="True"){if(fmOn=="False"){var butAnchor=document.getElementById("fareBoxControlButtonAnchor");fmOn="True";UpdateFareBoxButton(true);butAnchor.blur();createCookie("asMatrixFareBoxScroll","True","180")}}else if(fmOn=="True"){var butAnchor=document.getElementById("fareBoxControlButtonAnchor");fmOn="False";UpdateFareBoxButton(false);butAnchor.blur();createCookie("asMatrixFareBoxScroll","False","180")}if(fmOn=="True"){pX=this.iX>=0?0:nn?innerWidth:nn&&dH.clientWidth?dH.clientWidth:dB.clientWidth;pY=nn?pageYOffset:nn&&dH.scrollTop?dH.scrollTop:dB.scrollTop;if(this.iY<0)pY+=nn?innerHeight:nn&&dH.clientHeight?dH.clientHeight:dB.clientHeight;this.nX+=.1*(pX+this.iX-this.nX);this.nY+=.1*(pY+this.iY-this.nY);this.P(this.nX,this.nY)}setTimeout(this.id+"O.Fm()",20)};return L}document.getElementById("FormUserControl_avl_farebox")!=null&&floatFarebox(804,160,"FormUserControl_avl_farebox").Fm()}function ShowStopHover(event,sFlight,nStops,arrAirports,sChangePlanes){var sTitle="<nobr>"+sFlight+"</nobr>",sText="<table border=0 cellspacing=4>";if(sChangePlanes!="")sText+="<tr><td align=right><nobr>Change Planes:</td><td align=left><nobr>"+sChangePlanes+"</nobr></td></tr>";for(var nCurStop=0;nCurStop<nStops;nCurStop++){var sStopsText="&nbsp;";if(nCurStop==0){sStopsText=nStops+" Stop:";if(nStops>1)sStopsText=nStops+" Stops:"}sText+="<tr><td align=right><nobr>"+sStopsText+"</nobr></td><td align=left><nobr>"+arrAirports[nCurStop]+"</nobr></td></tr>"}ShowTip(event,"ToolTip",sTitle,sText,"mtrx_tt_title","tooltipcontent_matrix",260,"")}function ShowFlightHover(event,sFlight,sDuration,sDistance,sFirstMeal,sCoachMeal,sAircraft,sOnTime,sLate30PlusMinutes,bIsChronicallyDelayed,sCancelled,sMealFootnote,bShowCustomeMeal,sMeal){var sTitle="<nobr>"+sFlight+"</nobr>",sText="<table border=0 cellspacing=4>";sText+="<tr><td align=right width=50%>Duration:</td><td align=left width=50%><nobr>"+sDuration+"</nobr></td></tr>";sText+="<tr><td align=right width=50%>Distance:</td><td align=left><nobr>"+sDistance+"</nobr></td></tr>";if(bShowCustomeMeal==null||!bShowCustomeMeal){var firstMealLabel="First Class Meal";if(sFirstMeal.indexOf(",")>=0)firstMealLabel+="s";sText+="<tr><td align=right width=50%><nobr>";sText+=firstMealLabel;sText+=":</nobr></td><td align=left><nobr>"+sFirstMeal+"</nobr></td></tr>";var coachMealLabel="Coach Meal";if(sCoachMeal.indexOf(",")>=0)coachMealLabel+="s";sText+="<tr><td align=right width=50%><nobr>";sText+=coachMealLabel;sText+=":<nobr></td><td align=left><nobr>"+sCoachMeal+"</nobr></td></tr>"}else sText+="<tr><td align=right width=50%><nobr>Meal:<nobr></td><td align=left><nobr>"+sMeal+"</nobr></td></tr>";sText+="<tr><td align=right width=50%>Aircraft:</td><td align=left><nobr>"+sAircraft+"</nobr></td></tr>";if(sOnTime!="n/a")sOnTime+="%";sText+="<tr><td align=right width=50%><nobr>% on-time:</nobr></td><td align=left><nobr>"+sOnTime+"</nobr></td></tr>";if(sLate30PlusMinutes!="n/a")sLate30PlusMinutes+="%";if(bIsChronicallyDelayed)sText+="<tr><td align=right width=50%><nobr><b>% late 30+ min:</b></nobr></td><td align=left><nobr><b>"+sLate30PlusMinutes+"</b></nobr></td></tr>";else sText+="<tr><td align=right width=50%><nobr>% late 30+ min:</nobr></td><td align=left><nobr>"+sLate30PlusMinutes+"</nobr></td></tr>";if(parseInt(sCancelled)>=5)sText+="<tr><td align=right width=50%><nobr>% cancelled:</nobr></td><td align=left><nobr>"+sCancelled+"%</nobr></td></tr>";sText+="<tr><td colspan=2><hr size=1></td></tr>";sText+="<tr><td colspan=2><span class=microtextgray><nobr>performance data is based on previous month</nobr></td></tr>";if(sMealFootnote!="")sText+="<tr><td colspan=2><span class=microtextgray><nobr>"+sMealFootnote+"</nobr></td></tr>";sText+="</table>";ShowTip(event,"ToolTip",sTitle,sText,"mtrx_tt_title","tooltipcontent_matrix",260,"")}function ShowUpgradeHover(event,title,sUpgradeImage,sFlightUpgradeText){var sTitle="<nobr>"+title+"</nobr>",sText="<table border=0 cellspacing=4>";if(sUpgradeImage!=""){var sUpgradeText="",found=0;sText+="<tr><td align=left>"+sUpgradeImage+"</td></tr>";sText+="<tr><td align=left>"+sFlightUpgradeText+"</td></tr>";if(sUpgradeImage.indexOf("Combo")>=0){sUpgradeText=getGoldUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>";sUpgradeText=getMVPUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>";sUpgradeText=getMileageUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>"}else if(sUpgradeImage.indexOf("Gold")>=0){sUpgradeText=getGoldUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>";sUpgradeText=getMileageUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>"}else if(sUpgradeImage.indexOf("MVP")>=0){sUpgradeText=getMVPUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>";sUpgradeText=getMileageUpgradeText();sText+="<tr><td align=left>"+sUpgradeText+"</td></tr>"}}sText+="</table>";ShowTip(event,"ToolTip",sTitle,sText,"mtrx_tt_title","tooltipcontent_matrix",260,"")}function getGoldUpgradeText(){var upgradeText="<strong>MVP Gold Upgrades</strong><br>Complimentary for all Gold members after purchase.";return upgradeText}function getMVPUpgradeText(){var upgradeText="<strong>MVP Upgrades</strong><br>Complimentary for all MVP members after purchase.";return upgradeText}function getMileageUpgradeText(){var upgradeText="<strong>Mileage Upgrades</strong><br>Use 15,000 Mileage Plan miles.";return upgradeText}function insertCommas(s){var output="",foundDecimal=false,cnt=0;if(s.indexOf(".")==-1)s=s+".00";else{var decimalTest=s.split(".");if(decimalTest[1].length==0)s=s+"00";else if(decimalTest[1].length==1)s=s+"0"}for(var i=s.length-1;i>=0;i--){if(foundDecimal==false){if(s.charAt(i)==".")foundDecimal=true}else{cnt++;if(cnt==4){output=","+output;cnt=0}}output=s.charAt(i)+output}return output}function AddFaresToBox(){var TotalFare=0,TotalTax=0,selectedTotalTaxesCellName="FormUserControl_avl_FareBoxTotal_tax",selectedTotalTaxesCell=document.getElementById(selectedTotalTaxesCellName);if(selectedTotalTaxesCell==null)return;for(var j=0;j<ofs.length;j++){for(var SliceTotalFare=0,myOptionFare=ofs[j],selectedTotalFareCellName="FormUserControl_avl_FareBoxTotal_tot_"+myOptionFare.SliceID,selectedTotalFareCell=document.getElementById(selectedTotalFareCellName),i=0;i<myOptionFare.PaxFares.length;i++){if(myOptionFare.PaxFares[i].Type=="ADT"||myOptionFare.PaxFares[i].Type=="CHD"||myOptionFare.PaxFares[i].Type=="GVT"){var selectedFareCellName="FormUserControl_avl_FareBoxTotal_adt_"+myOptionFare.SliceID,selectedFareCell=document.getElementById(selectedFareCellName);selectedFareCell.innerHTML="$"+myOptionFare.PaxFares[i].Fare.toFixed(2)}else if(myOptionFare.PaxFares[i].Type=="CMP"){var selectedCompanionFareCellName="FormUserControl_avl_FareBoxTotal_cmp_"+myOptionFare.SliceID,selectedCompanionFareCell=document.getElementById(selectedCompanionFareCellName);selectedCompanionFareCell.innerHTML="$"+myOptionFare.PaxFares[i].Fare.toFixed(2)}SliceTotalFare+=parseFloat(myOptionFare.PaxFares[i].Fare);TotalTax+=parseFloat(myOptionFare.PaxFares[i].Taxes)}if(selectedTotalFareCell!=null&&SliceTotalFare>0)selectedTotalFareCell.innerHTML="$"+insertCommas(SliceTotalFare.toFixed(2));TotalFare+=SliceTotalFare}var GrandTotal=TotalFare+TotalTax;selectedTotalTaxesCell.innerHTML="$"+insertCommas(TotalTax.toFixed(2));var grandTotalCell=document.getElementById("FormUserControl_avl_FareBoxTotal_grand");grandTotalCell.innerHTML="$"+insertCommas(GrandTotal.toFixed(2))}function ShowFlights(selectedTableName,forceOverride){var itinTable=document.getElementById(selectedTableName),selRB=SelectedRadioForSliceOptionMatrix(selectedTableName),showAllLink=document.getElementById(selectedTableName);HideFareUpgradePopupControls(-1);if(selRB==null||forceOverride){for(var masterRows=itinTable.tBodies[0].rows,x=2;x<masterRows.length-1;x++)if(masterRows[x].cells[0].className!=null&&masterRows[x].cells[0].className=="mtrx_no_sel")masterRows[x].style.display="none";else masterRows[x].style.display="";var index=selectedTableName.substring(selectedTableName.indexOf("som_")+4,selectedTableName.indexOf("_ItineraryTable")),selectedRadioButtonID="SelectedRadioButton"+index,selectedRadioButton;selRB==null&&ShowFareUpgradeOffer(selectedTableName,forceOverride,0)}else{FocusOnSelected(selectedTableName.substring(selectedTableName.indexOf("som_"),selectedTableName.indexOf("som_")+5),true);showAllLink.style.visibility="visible"}}function SynchronizeMatrix(){for(var sliceOptions=4,x=0;x<sliceOptions;x++){var selectedTableName="FormUserControl_avl_som_"+x+"_ItineraryTable",selectedRadio=SelectedRadioForSliceOptionMatrix(selectedTableName);if(selectedRadio!=null)selectedRadio.onclick();else FocusOnSelected(selectedTableName.substring(selectedTableName.indexOf("som_"),selectedTableName.indexOf("som_")+5),false)}return}function IsSliceOptionMatrixInSynch(matrixNumber){if(matrixNumber!=null)tableName="som_"+matrixNumber;var selectedTableName="FormUserControl_avl_"+tableName+"_ItineraryTable",itinTable=document.getElementById(selectedTableName),returnValue=true;if(itinTable!=null)for(var masterRows=itinTable.tBodies[0].rows,x=3;x<masterRows.length-2;x++)for(var currentRow=masterRows[x],childrenCells=currentRow.cells,y=0;y<childrenCells.length;y++){var tc=childrenCells[y],children=tc.childNodes;if(children!=null)for(var z=0;z<children.length;z++)if(children[z].type!=null&&children[z].type=="radio")if(children[z].checked==true){selectionName=children[z].value;if(tc.className!="mtrx_price_sel")returnValue=false}}return returnValue}function SelectedRadioForSliceOptionMatrix(selectedTableName){var itinTable=document.getElementById(selectedTableName);if(itinTable!=null)for(var masterRows=itinTable.tBodies[0].rows,x=3;x<masterRows.length-2;x++)for(var currentRow=masterRows[x],childrenCells=currentRow.cells,y=0;y<childrenCells.length;y++){var tc=childrenCells[y],children=tc.childNodes;if(children!=null)for(var z=0;z<children.length;z++)if(children[z].type!=null&&children[z].type=="radio")if(children[z].checked==true)return children[z]}return null}function FocusOnSelected(tableName,scroll){var selectedTableName="FormUserControl_avl_"+tableName+"_ItineraryTable",selectedRB=SelectedRadioForSliceOptionMatrix(selectedTableName),anchorName="FormUserControl_avl_"+tableName+"_tableAnchor",anchor=document.getElementById(anchorName),itinTable=document.getElementById(selectedTableName),tc=null,isLastRow=false,theStyle="none",rowsDisplayed=false,selectedRowIndex=0;if(itinTable!=null){if(selectedRB==null)for(var masterRows=itinTable.tBodies[0].rows,x=3;x<masterRows.length-1;x++){var currentRow=masterRows[x];if(!(currentRow.cells[0].className!=null&&currentRow.cells[0].className=="mtrx_city_head"))rowsDisplayed=true;currentRow.style.display=""}else for(var masterRows=itinTable.tBodies[0].rows,x=3;x<masterRows.length-1;x++){var currentRow=masterRows[x];if(currentRow.cells[0].className!=null&&currentRow.cells[0].className=="mtrx_city_head")currentRow.style.display="";else{for(var childrenCells=currentRow.cells,y=0;y<childrenCells.length;y++){var tc=childrenCells[y];if(tc.className=="mtrx_dur"||tc.className=="mtrx_dur_sel")isLastRow=true;var children=tc.childNodes;if(children!=null)for(var z=0;z<children.length;z++)if(children[z].type!=null&&children[z].type=="radio")if(children[z].checked==true){theStyle="";rowsDisplayed=true;children[z].parentNode.className="mtrx_price_sel";selectedRowIndex=x+tc.rowSpan}else children[z].parentNode.className="mtrx_price";else if(children[z].childNodes!=null&&children[z].childNodes.length>0){var grandChildren=children[z].childNodes;if(grandChildren!=null)for(var zz=0;zz<grandChildren.length;zz++)if(grandChildren[zz].type!=null&&grandChildren[zz].type=="radio")if(grandChildren[zz].checked==true){theStyle="";rowsDisplayed=true;grandChildren[zz].parentNode.className="mtrx_price_sel";selectedRowIndex=x+tc.rowSpan}else grandChildren[zz].parentNode.className="mtrx_price"}}if(theStyle=="none")currentRow.style.display=theStyle;if(isLastRow){isLastRow=false;theStyle="none"}}}for(var x=0;x<masterRows.length-1;x++){var currentRow=masterRows[x];if(currentRow.cells[0].className!=null&&currentRow.cells[0].className=="mtrx_no_sel")if(!rowsDisplayed){currentRow.style.display="";if(ddl.selectedIndex==1)currentRow.cells[0].innerHTML="There are no flights operating in the selected time range. Please select &quot;All Flights&quot; in the Flights Displayed dropdown to reset time range to anytime or click the Change Search link.";else currentRow.cells[0].innerHTML="No selection has been made. Please select &quot;All Flights&quot; in the Flights Displayed dropdown then select a flight.";break}else{currentRow.style.display="none";break}}}if(anchor!=null&&fareUpgradeVariant=="default"){var Pos=GetObjectPosition(anchor),fb=document.getElementById("FormUserControl_avl_farebox");Pos.y+=62;if(fb!=null)fb.style.top=Pos.y+"px";scroll&&scrollTo(0,Pos.y-62)}ShowFareUpgradeOffer(selectedTableName,false,selectedRowIndex)}function SelectFares(control,myOptionFare){tableName=control.id.substring(control.id.indexOf("som_"),control.id.indexOf("som_")+control.id.indexOf("opt_")-control.id.indexOf("som_")-1);selectionName=control.id.substring(control.id.indexOf("opt_"),control.id.length);var selectedTableName="FormUserControl_avl_"+tableName+"_ItineraryTable",showAllLink=document.getElementById("FormUserControl_avl_"+tableName+"__viewAllFlights");if(showAllLink)showAllLink.style.visibility="visible";var js_hidden=document.getElementById(control.id.substring(0,control.id.indexOf("som_"))+tableName+"_js_sel");js_hidden.value="true";var posY=control.offsetTop,posX=control.offsetLeft,par=control.offsetParent;while(par!=null){posY+=par.offsetTop;posX+=par.offsetLeft;par=par.offsetParent}posY+=12;posX+=12;var topString=String(posY)+"px",leftString=String(posX)+"px";window.setTimeout("UpdateFromSelection('"+selectedTableName+"')",1)}function UpdateFromSelection(selectedTableName){AddFaresToBox();if(!IsSliceOptionMatrixInSynch(selectedTableName.substring(selectedTableName.indexOf("som_")+4,selectedTableName.indexOf("_ItineraryTable"))))FocusOnSelected(selectedTableName.substring(selectedTableName.indexOf("som_"),selectedTableName.indexOf("som_")+5),true);else ShowFlights(selectedTableName,false)}function pause(){for(var y,x=0;x<1e5;x++)y+=x*y/(y-x)}function EnableTableCell(tc){var children=tc.childNodes;tc.className="mtrx_price";if(tc.attributes.getNamedItem("temp_title")!=null){tc.title=tc.attributes.getNamedItem("temp_title").value;children[0].className="mtrx_label"}if(children.length==2){children[1].disabled=false;if(children[1].childNodes.length==1)children[1].childNodes[0].disabled=false;else if(children[1].childNodes.length==2)children[1].childNodes[1].disabled=false}else if(children.length==3){children[1].className="mtrx_label";children[2].disabled=false}}function DisableTableCell(tc){var children=tc.childNodes;tc.className="mtrx_price_dis";var tmpTitle=tc.attributes.getNamedItem("temp_title");if(tmpTitle==null||tmpTitle.value==null||tmpTitle.value.length==0){var attr=document.createAttribute("temp_title");attr.value=tc.title;tc.attributes.setNamedItem(attr)}tc.title="The fare types are not combinable. Choose another fare or click Clear All Selections to start over.";children[0].className="mtrx_label_dis";if(children.length==2){children[1].disabled=true;if(children[1].childNodes.length==1)children[1].childNodes[0].disabled=true;else if(children[1].childNodes.length==2)children[1].childNodes[1].disabled=true}else if(children.length==3){children[1].className="mtrx_label_dis";children[2].disabled=true}}function remove(s,t){var i=s.indexOf(t),r="";if(i==-1)return s;r+=s.substring(0,i)+remove(s.substring(i+t.length),t);return r}function Bubble(mainDIV,contentDIV,pointerUpDIV,pointerDownDIV,position,pointerOffset,threshhold){this.mainDiv=mainDIV;this.contentDiv=contentDIV;this.pointerUpDiv=pointerUpDIV;this.pointerDownDiv=pointerDownDIV;this.content;this.bubblePosition=position;this.pointerOffset=pointerOffset;this.threshhold=threshhold;this.SetContent=function(){ReplaceContent(this.contentDiv,this.content)};this.PositionPointer=function(){var pdStyle=getElement(this.pointerDownDiv,1),puStyle=getElement(this.pointerUpDiv,1);switch(this.bubblePosition){case"bottom":pdStyle.visibility="hidden";puStyle.visibility="visible";break;case"top":pdStyle.visibility="visible";puStyle.visibility="hidden";break}};this.Hide=function(){var style=getElement(this.mainDiv,1),pdStyle=getElement(this.pointerDownDiv,1),puStyle=getElement(this.pointerUpDiv,1);style.visibility="hidden";pdStyle.visibility="hidden";puStyle.visibility="hidden"}}function ShowFareCategoryBubble(evt,sCategory){var fcBubble=new Bubble("Bubble","BubbleContent","PointerUp","PointerDown","down",198,.95);fcBubble.content=BuildFareCategoryContent(sCategory);ShowBubble(evt,fcBubble)}function HideFareCategoryBubble(evt){var fcBubble=new Bubble("Bubble","BubbleContent","PointerUp","PointerDown","down",198,.95);ShowBubble(evt,fcBubble)}function BuildFareCategoryContent(sCategory){var sText="",sContent="",categoryDefinition="",categoryAddlText="",categoryLabel=sCategory,categoryState,checkMark="<img src='/images/small_checkmark.gif'/>",num=1,numberOne="Complimentary advance seat selection",numberTwo="No minimum stay requirements",numberThree="No change fees",numberFour="Fully refundable",numberFive="Complimentary entry to the Alaska Airlines Boardroom on day of travel",numberSix="",numberSeven="",categoryDescriptions=[numberOne,numberTwo,numberThree,numberFour,numberFive];switch(sCategory){case"HotDeals":categoryLabel="Hot Deals";categoryDefinition=categoryLabel+" include our Web Specials and Internet-Only (IO) fares that offer deep discounts - perfect for cost-conscious travelers.";categoryState=["normal","normal","grayedout","grayedout","grayedout"];categoryDescriptions=[numberOne,numberTwo,numberThree,numberFour,numberFive];break;case"Bargain":categoryDefinition=categoryLabel+" fares are worth watching for - outside of Hot Deals, these are typically our lowest fares, and because of limited availability, they go fast.";categoryState=["normal","normal","grayedout","grayedout","grayedout"];break;case"Value":categoryDefinition=categoryLabel+" fares offer advance-purchase savings for those who like to save money by planning ahead.";categoryState=["normal","normal","grayedout","grayedout","grayedout"];break;case"FullFlex":categoryLabel="Full Flex";categoryDefinition=categoryLabel+" fares give you all of the flexibility you need with Coach Class tickets. With no change fees and full refund capability, you are in control.";categoryState=["normal","normal","normal","normal","grayedout"];break;case"FirstClass":categoryLabel="First Class";categoryDefinition=categoryLabel+" fares give you all of the premium service and flexibility you expect.";categoryState=["normal","normal","normal","normal","bold"];break;case"PartnerFares":categoryLabel="Partner Fares";categoryDefinition="Partner fares provide increased options for routes not flown by Alaska Airlines and Horizon Air.";numberOne=categoryLabel+" rules vary and can be reviewed when purchasing your trip.";numberTwo="Some Partner fares may not be combinable with other fare categories.";categoryState=["normal","normal"];categoryDescriptions=[numberOne,numberTwo];break;case"GuestPass":categoryLabel="Guest Pass";categoryDefinition="Guest Pass fares offer tremendous savings on routes flown by Alaska Airlines and Horizon Air.";numberOne="Travel is on standby basis only.";numberTwo="Travel must be completed within 90 days.";numberThree="Fully refundable.";numberFour="No change fees.";numberFive="Valid for coach fares only.";numberSix="Upgrades are not allowed.";numberSeven="Unaccompanied minors under 13 years cannot use this fare.";categoryState=["normal","normal","normal","normal","normal","normal","normal"];categoryDescriptions=[numberOne,numberTwo,numberThree,numberFour,numberFive,numberSix,numberSeven];break}sText="<table border='0' cellspacing='4' cellpadding='0' bgcolor='#FBF7EB'><tr><td colspan='4' align='left'><strong>"+categoryLabel+"</strong></td></tr><tr><td colspan='4'>&nbsp;</td></tr>";for(i in categoryDescriptions){switch(categoryState[i]){case"normal":sText+="<tr><td align='left' valign='top'>&nbsp;</td><td align='left' valign='top'>"+checkMark+"</td><td align='left' valign='top'>"+num+".</td><td align='left' valign='top'>"+categoryDescriptions[i]+"</td></tr>";break;case"grayedout":sText+="<tr><td align='left' valign='top'>&nbsp;</td><td align='left' valign='top' style='color: #666666;'>&nbsp;</td><td align='left' valign='top' valign='top' style='color: #666666;'>"+num+".</td><td align='left' valign='top' style='color: #666666;'>"+categoryDescriptions[i]+"</td></tr>";break;case"bold":sText+="<tr><td align='left' valign='top'>&nbsp;</td><td align='left' valign='top'>"+checkMark+"</td><td align='left' valign='top' style='font-weight:bold'>"+num+".</td><td align='left' valign='top' style='font-weight:bold'>"+categoryDescriptions[i]+"</td></tr>";break;default:sText+="<tr><td align='left' valign='top'>&nbsp;</td><td align='left' valign='top'>"+checkMark+"</td><td align='left' valign='top'>"+num+".</td><td align='left' valign='top'>"+categoryDescriptions[i]+"</td></tr>";break}num+=1}sText+="<tr><td colspan='4'>&nbsp;</td></tr><tr><td align='left' valign='top'>&nbsp;</td><td colspan='3' align='left' valign='top'>"+categoryDefinition+"</td></tr>";if(categoryAddlText!="")sText+="<table><tr><td align='left' valign='top'>&nbsp;</td><td align='left' valign='top'>*</td><td colspan='3' align='left' valign='top'>"+categoryAddlText+"</td></tr></table>";sText+="</table>";return sText}function ShowBubble(evt,objBubble){var px=navigator.appName=="Netscape"&&parseInt(navigator.appVersion,10)==4?"":"px";if(isDHTML){document.layers&&document.captureEvents(Event.MOUSEMOVE);var pageWidth=getPageWidth(),style=getElement(objBubble.mainDiv,1),dom=getElement(objBubble.mainDiv,0),pdStyle=getElement(objBubble.pointerDownDiv,1),puStyle=getElement(objBubble.pointerUpDiv,1),elemWidth=0,elemHeight=0,pointerOffset=objBubble.pointerOffset,threshhold=objBubble.threshhold;if(style.visibility=="visible"||style.visibility=="show")objBubble.Hide();else{objBubble.SetContent();if(dom.offsetWidth)elemWidth=dom.offsetWidth;else if(dom.clip)if(dom.clip.width)elemWidth=dom.clip.width;if(dom.offsetHeight)elemHeight=dom.offsetHeight;else if(dom.clip)if(dom.clip.height)elemHeight=dom.clip.height;if(evt.pageY)if((evt.clientY+elemHeight)*threshhold>=window.innerHeight+10){topVal=evt.pageY-(elemHeight+5);leftVal=evt.pageX-pointerOffset;objBubble.bubblePosition="top"}else{topVal=evt.pageY+10;leftVal=evt.pageX-pointerOffset;objBubble.bubblePosition="bottom"}else if(evt.y){var DDL=getElement("FormUserControl_avl_som_0_SortByList",0),posofDDL;if(DDL)posofDDL=GetObjectPosition(DDL);if(document.documentElement&&document.documentElement.clientHeight)if((evt.y+elemHeight)*threshhold>=document.documentElement.clientHeight+10&&evt.x<=posofDDL.x){topVal=evt.y-elemHeight-15+document.documentElement.scrollTop;leftVal=evt.x-pointerOffset+document.documentElement.scrollLeft;objBubble.bubblePosition="top"}else{topVal=evt.y+15+document.documentElement.scrollTop;leftVal=evt.x-pointerOffset+document.documentElement.scrollLeft;objBubble.bubblePosition="bottom"}else if(document.body)if((evt.y+elemHeight)*threshhold>=document.body.clientHeight){topVal=evt.y-elemHeight-15+document.body.scrollTop;leftVal=evt.x-pointerOffset+document.body.scrollLeft;objBubble.bubblePosition="top";if(isMacIE)topVal-=135}else{topVal=evt.y+15+document.body.scrollTop;leftVal=evt.x-pointerOffset+document.body.scrollLeft;objBubble.bubblePosition="bottom";if(isMacIE)topVal-=135}}objBubble.PositionPointer();style.top=topVal+px;style.left=leftVal+px;style.visibility="visible"}}}function ShowFareHelp(anchorName){if(anchorName=="GuestPass")return;var oPopup=window.open("/shared/tips/aboutfarefamilymatrix.asp#"+anchorName,"webdeals","width=735,height=500,resizable=no,scrollbars=yes,screenX=0,screenY=0");oPopup.screenX=0}var zindex=111,fareUpgradeVariant="default",fareDescriptionVariant="default";function selRadButton(control,upgradeType,upgradeAmount,upgradeControlID,optionRowID){this.Control=control;this.UpgradeType=upgradeType;this.UpgradeAmount=upgradeAmount;this.UpgradeControlID=upgradeControlID;this.OptionRowID=optionRowID}function ShowFareUpgradeOffer(selectedTableName,forceShow,selectedRowIndex){var itinTable=document.getElementById(selectedTableName);if(itinTable){var somIndex=selectedTableName.substring(selectedTableName.indexOf("som_")+4,selectedTableName.indexOf("_ItineraryTable")),selectedRadioButton=GetSelectedRadioButton(somIndex);if(selectedRadioButton){var id=selectedTableName.substring(0,selectedTableName.indexOf("_ItineraryTable")+1)+selectedRadioButton.OptionRowID,upgradeOffered=document.getElementById(id);if(upgradeOffered.value=="False"||forceShow){ShowFareUpgrade(selectedTableName,selectedRadioButton,somIndex,selectedRowIndex);upgradeOffered.value="True"}else HideUpgradeOffer(somIndex);var anchorName="FormUserControl_avl_som_"+somIndex+"_tableAnchor",anchor=document.getElementById(anchorName);if(anchor){var Pos=GetObjectPosition(anchor);scrollTo(0,Pos.y)}}}}function GetSelectedRadioButton(somIndex){var selectedRadioButtonID="SelectedRadioButton"+somIndex,selectedRadioButton;try{var strEval="selectedRadioButton = "+selectedRadioButtonID+";";eval(strEval)}catch(err){}return selectedRadioButton}function findPos(obj){var curleft=0,curtop=0;if(obj.offsetParent)do{curleft+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent);return[curtop,curleft]}function HideUpgradeOffer(somIndex){switch(fareUpgradeVariant){case"FareUpgradeInsert":HideControl("FareUpgradeInsert"+somIndex);RemoveFareInsertRow(somIndex);break}var selectedRadioButtonID="SelectedRadioButton"+somIndex,strEval=selectedRadioButtonID+" = null;";eval(strEval)}function ShowFareDescriptionMatrixPopup(selectedLinkID,fareColumn,somIndex){var fareDescriptionOffer,fareDescriptionPointer;if(fareDescriptionVariant=="FareDescriptionPopup"){document.getElementById("FareDescriptionPopup"+somIndex).style.display="";fareDescriptionOffer=document.getElementById("FareDescriptionPopupContent"+somIndex);fareDescriptionPointer=document.getElementById("FareDescriptionPopupPointer"+somIndex);var selectedLink=document.getElementById(selectedLinkID),pos=findPos(selectedLink);fareDescriptionOffer.style.display="";fareDescriptionOffer.style.top=pos[0]+27+"px";fareDescriptionOffer.style.left=50+"px";fareDescriptionPointer.style.display="";fareDescriptionPointer.style.top=pos[0]+14+"px";fareDescriptionPointer.style.left=pos[1]-3+"px";var FareDesciptionPopupContent;FareDesciptionPopupContent=document.getElementById("FareDescriptionPopup");switch(fareColumn){case"BestDeal":case"HotDeals":case"Bargain":highlightColumn=1;break;case"Value":highlightColumn=2;break;case"FullFlex":highlightColumn=3;break;case"FirstClass":highlightColumn=4;break}var table=document.getElementById("fareDescriptionTable");if(table)for(var i=0;i<table.rows.length;i++)for(var j=0;j<table.rows[i].cells.length;j++)if(j==highlightColumn)table.rows[i].cells[j].className="Selected";else table.rows[i].cells[j].className="";fareDescriptionOffer.innerHTML=FareDesciptionPopupContent.innerHTML;fareDescriptionOffer.innerHTML=fareDescriptionOffer.innerHTML.replace("'FareDescriptionPopup'","'FareDescriptionPopup"+somIndex+"'");HideFareUpgradePopupControls(-1);if(fareDescriptionOffer){var dummyIframe=document.getElementById("_dummyIframeForFareDescriptionPopup");if(dummyIframe){dummyIframe.style.width="800px";dummyIframe.style.height="670px";dummyIframe.style.top=fareDescriptionOffer.style.top;dummyIframe.style.left=fareDescriptionOffer.style.left;dummyIframe.style.zIndex=fareDescriptionOffer.style.zIndex-1;dummyIframe.style.display="block"}}}}function ShowFareUpgrade(selectedTableName,selectedRadioButton,somIndex,selectedRowIndex){var fareUpgradeOffer,fareUpgradePointer,FareUpgradeContent,FareUpgradeDescriptionID,cell,pos;if(fareUpgradeVariant!="default"){switch(fareUpgradeVariant){case"FareUpgradeInsert":HideFareUpgradePopupControls(somIndex);var itinTable=document.getElementById(selectedTableName),row=itinTable.insertRow(selectedRowIndex);row.id="FareUpgradeInsertRow"+somIndex;cell=row.insertCell(0);cell.colSpan="11";document.getElementById("FareUpgradeInsert"+somIndex).style.zIndex=zindex++;document.getElementById("FareUpgradeInsert"+somIndex).style.display="";fareUpgradeOffer=document.getElementById("FareUpgradeInsertContent"+somIndex);fareUpgradePointer=document.getElementById("FareUpgradeInsertPointer"+somIndex);fareUpgradeOffer.style.zIndex=zindex++;fareUpgradePointer.style.zIndex=zindex++;fareUpgradeOffer.style.display="";fareUpgradePointer.style.display="";if(selectedRadioButton.UpgradeType=="FullFlex"){FareUpgradeContent=document.getElementById("FareUpgradeInsertFullFlexContent"+somIndex);FareUpgradeDescriptionID="FareUpgradeInsertFullFlexDescription"+somIndex;fareUpgradePointer.style.left="650px"}else{FareUpgradeContent=document.getElementById("FareUpgradeInsertFirstClassContent"+somIndex);FareUpgradeDescriptionID="FareUpgradeInsertFirstClassDescription"+somIndex;fareUpgradePointer.style.left="710px"}fareUpgradeOffer.innerHTML=FareUpgradeContent.innerHTML;cell.appendChild(fareUpgradeOffer);break}HideFareDescriptionPopupControls(-1);if(selectedRadioButton.UpgradeAmount>0)fareUpgradeOffer.innerHTML=fareUpgradeOffer.innerHTML.replace("$XXXX","$"+selectedRadioButton.UpgradeAmount.toFixed(2));else{var c=document.getElementById(FareUpgradeDescriptionID);if(c)c.style.display="none"}pos=findPos(cell);fareUpgradePointer.style.top=pos[0]-8+"px"}}function HideControl(controlID){var control=document.getElementById(controlID);if(control)control.style.display="none";var dummyIframe=document.getElementById("_dummyIframeForFareDescriptionPopup");if(dummyIframe)dummyIframe.style.display="none"}function HideFareUpgradePopupControls(indexToKeep){for(var i=0;i<4;i++)if(i!=indexToKeep||indexToKeep==-1){HideControl("FareUpgradeInsert"+i);RemoveFareInsertRow(i)}}function RemoveFareInsertRow(i){var itinTable=document.getElementById("FormUserControl_avl_som_"+i+"_ItineraryTable");if(itinTable){var row=document.getElementById("FareUpgradeInsertRow"+i);if(row){var fareUpgradeOffer=document.getElementById("FareUpgradeInsertContent"+i);row.cells[0].removeChild(fareUpgradeOffer);itinTable.deleteRow(row.rowIndex);document.getElementById("FareUpgradeInsert"+i).appendChild(fareUpgradeOffer)}}}function HideFareDescriptionPopupControls(indexToKeep){for(var i=0;i<4;i++)(i!=indexToKeep||indexToKeep==-1)&&HideControl("FareDescriptionPopup"+i)}